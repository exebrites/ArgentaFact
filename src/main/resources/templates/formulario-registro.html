<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registro de Empleado</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <h1>Registro de Nuevo Empleado</h1>
        
        <!-- Mensajes de error -->
        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
        
        <form th:action="@{/empleados/registrar}" method="post">
            
            <!-- DATOS DEL EMPLEADO -->
            <fieldset>
                <legend>Datos Personales</legend>
                
                <div class="form-group">
                    <label for="nombre">Nombre *</label>
                    <input type="text" id="nombre" name="nombre" 
                           th:value="${empleado.nombre}" required>
                    <span class="error" th:if="${#fields.hasErrors('empleado.nombre')}" 
                          th:errors="*{empleado.nombre}"></span>
                </div>
                
                <div class="form-group">
                    <label for="apellido">Apellido *</label>
                    <input type="text" id="apellido" name="apellido" 
                           th:value="${empleado.apellido}" required>
                    <span class="error" th:if="${#fields.hasErrors('empleado.apellido')}" 
                          th:errors="*{empleado.apellido}"></span>
                </div>
                
                <div class="form-group">
                    <label for="dni">DNI *</label>
                    <input type="text" id="dni" name="dni" 
                           th:value="${empleado.dni}" required>
                    <span class="error" th:if="${#fields.hasErrors('empleado.dni')}" 
                          th:errors="*{empleado.dni}"></span>
                </div>
                
                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email" name="email" 
                           th:value="${empleado.email}" required>
                    <span class="error" th:if="${#fields.hasErrors('empleado.email')}" 
                          th:errors="*{empleado.email}"></span>
                </div>
                
                <div class="form-group">
                    <label for="telefono">Teléfono</label>
                    <input type="tel" id="telefono" name="telefono" 
                           th:value="${empleado.telefono}">
                </div>
                
                <div class="form-group">
                    <label for="departamento">Departamento</label>
                    <input type="text" id="departamento" name="departamento" 
                           th:value="${empleado.departamento}">
                </div>
                
                <div class="form-group">
                    <label for="cargo">Cargo</label>
                    <input type="text" id="cargo" name="cargo" 
                           th:value="${empleado.cargo}">
                </div>
            </fieldset>
            
            <!-- DATOS DE USUARIO -->
            <fieldset>
                <legend>Datos de Acceso</legend>
                
                <div class="form-group">
                    <label for="username">Usuario *</label>
                    <input type="text" id="username" name="usuario.username" 
                           th:value="${usuario.username}" required>
                    <span class="error" th:if="${#fields.hasErrors('usuario.username')}" 
                          th:errors="*{usuario.username}"></span>
                </div>
                
                <div class="form-group">
                    <label for="emailUsuario">Email de Usuario *</label>
                    <input type="email" id="emailUsuario" name="usuario.email" 
                           th:value="${usuario.email}" required>
                    <span class="error" th:if="${#fields.hasErrors('usuario.email')}" 
                          th:errors="*{usuario.email}"></span>
                </div>
                
                <div class="form-group">
                    <label for="password">Contraseña *</label>
                    <input type="password" id="password" name="usuario.password" required>
                    <span class="error" th:if="${#fields.hasErrors('usuario.password')}" 
                          th:errors="*{usuario.password}"></span>
                </div>
                
                <div class="form-group">
                    <label for="confirmarPassword">Confirmar Contraseña *</label>
                    <input type="password" id="confirmarPassword" name="usuario.confirmarPassword" required>
                    <span class="error" th:if="${#fields.hasErrors('usuario.confirmarPassword')}" 
                          th:errors="*{usuario.confirmarPassword}"></span>
                </div>
            </fieldset>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Registrar Empleado</button>
                <a href="/empleados" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</body>
</html>